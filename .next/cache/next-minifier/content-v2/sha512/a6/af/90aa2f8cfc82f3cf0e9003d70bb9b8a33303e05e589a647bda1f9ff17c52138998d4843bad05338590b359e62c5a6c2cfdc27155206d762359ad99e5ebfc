{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{\"7W2i\":function(e,t,n){var r=n(\"SksO\");e.exports=function(e,t){if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},D8O5:function(e,t,n){e.exports={admin:\"admin___21G_C\",admin_header:\"admin_header___1qYtx\",add_product:\"add_product___2SV17\",table:\"table___1XKFR\"}},\"GD+O\":function(e,t,n){e.exports={pagelink:\"pagelink___2-f9Q\",loader:\"loader___303lL\",spin:\"spin___aGIZ0\"}},IT5z:function(e,t,n){\"use strict\";n.r(t);var r=n(\"rePB\"),a=n(\"o0o1\"),o=n.n(a),i=n(\"q1tI\"),c=n.n(i),l=n(\"D8O5\"),s=n.n(l),u=n(\"YFqc\"),p=n.n(u),f=n(\"vDqi\"),d=n.n(f),h=n(\"PLZj\"),v=c.a.createElement;t.default=function(){var e=Object(i.useState)([\"o\",\"p\"]),t=e[0],n=e[1],a=Object(i.useState)(!1),c=a[0],l=a[1],u=Object(i.useState)(),f=u[0],m=u[1],b=Object(i.useState)(),g=b[0],y=b[1],_=Object(i.useState)(),w=_[0],k=_[1],O=Object(i.useState)(),P=O[0],x=O[1],j=Object(i.useState)(),C=j[0],E=j[1];Object(i.useEffect)((function(){D()}),[]);var D=function(){var e,t;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.awrap(fetch(\"http://localhost:4000/products\"));case 3:return e=r.sent,r.next=6,o.a.awrap(e.json());case 6:t=r.sent,n(t.data),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(0),console.log(\"Unable to load Products\"),n(\"\");case 14:case\"end\":return r.stop()}}),null,null,[[0,10]],Promise)},N=function(e){switch(console.log(e.target.value),e.target.name){case\"name\":m(e.target.value);break;case\"price\":k(e.target.value);break;case\"category\":x(e.target.value);break;case\"description\":y(e.target.value);break;case\"image\":E(e.target.value)}console.log(C)};return c?v(h.a,null):v(\"div\",{className:s.a.admin},v(\"h1\",{className:s.a.admin_header},\"Admin Page\"),v(\"div\",{className:s.a.add_product},v(\"button\",{onClick:function(){var e=document.getElementsByClassName(\"admin_form\")[0];\"block\"===e.style.display?e.style.display=\"none\":e.style.display=\"block\"}},\"Add product\"),v(\"div\",null,v(\"form\",Object(r.a)({className:s.a.show},\"className\",\"admin_form\"),v(\"label\",{for:\"name\"},\"Name\"),v(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"product name\",value:f,onChange:N}),v(\"label\",{for:\"price\"},\"Price\"),v(\"input\",{type:\"text\",id:\"price\",name:\"price\",placeholder:\"product price\",value:w,onChange:N}),v(\"label\",{for:\"description\"},\"Description\"),v(\"textarea\",{type:\"text\",id:\"description\",name:\"description\",placeholder:\"Product Description\",value:g,onChange:N}),v(\"label\",{for:\"category\"},\"category\"),v(\"select\",{id:\"category\",name:\"category\",onChange:N},v(\"option\",{value:\"antibiotics\"},\"Antibiotics\"),v(\"option\",{value:\"antidiabetics\"},\"Antidiabetics\"),v(\"option\",{value:\"antimaleria\"},\"Antimaleria\")),v(\"button\",{onClick:function(e){var t,n;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return l(!0),e.preventDefault(),\"http://localhost:4000/product\",t={name:f,price:w,category:P,description:g,image:C},r.prev=4,r.next=7,o.a.awrap(d.a.post(\"http://localhost:4000/product\",t,{timeout:3e4}));case 7:200==(n=r.sent).status&&(console.log(n),l(!1)),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(4),console.log(r.t0),l(!1);case 15:case\"end\":return r.stop()}}),null,null,[[4,11]],Promise)}},\"Submit\"),v(\"br\",null),v(\"label\",{for:\"image\"},\"Upload image\"),v(\"input\",{type:\"file\",id:\"image\",name:\"image\",placeholder:\"Select Image\",onChange:N,value:C})))),v(\"table\",{className:s.a.table},v(\"thead\",null,v(\"tr\",null,v(\"th\",null,v(\"div\",null,\"Product\")),v(\"th\",null,v(\"div\",null,\"Category\")),v(\"th\",null,v(\"div\",null,\"Price\")),v(\"th\",null,v(\"div\",null,\"In stock\")),v(\"th\",null,v(\"div\",null,\"Action\")))),v(\"tbody\",null,t.map((function(e){return v(\"tr\",{key:e.id},v(\"td\",null,v(\"div\",null,v(\"img\",{src:e.image,alt:\"\",width:\"70\"}),v(\"br\",null),v(p.a,{href:\"/products/[id]\",as:\"/products/\".concat(e.id)},v(\"a\",null,\" \",e.name)))),v(\"td\",null,v(\"strong\",null,e.category)),v(\"td\",null,v(\"strong\",null,\"\\u20a6 \",e.price)),v(\"td\",null,e.quantity),v(\"td\",null,v(\"button\",null,\"Edit\"),v(\"button\",null,\"Delete\")))})))))}},Nsbk:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},PJYZ:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},PLZj:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a=n.n(r),o=n(\"GD+O\"),i=n.n(o),c=a.a.createElement;t.a=function(e){return c(\"div\",{className:i.a.loader})}},YFqc:function(e,t,n){e.exports=n(\"cTJO\")},a1gu:function(e,t,n){var r=n(\"cDf5\"),a=n(\"PJYZ\");e.exports=function(e,t){return!t||\"object\"!==r(t)&&\"function\"!==typeof t?a(e):t}},cTJO:function(e,t,n){\"use strict\";var r=n(\"lwsE\"),a=n(\"W8MJ\"),o=n(\"7W2i\"),i=n(\"a1gu\"),c=n(\"Nsbk\");function l(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}var s=n(\"TqRt\"),u=n(\"284h\");t.__esModule=!0,t.default=void 0;var p,f=u(n(\"q1tI\")),d=n(\"QmWs\"),h=n(\"g/15\"),v=s(n(\"nOHt\")),m=n(\"elyg\");function b(e){return e&&\"object\"===typeof e?(0,h.formatWithValidation)(e):e}var g=new Map,y=window.IntersectionObserver,_={};function w(){return p||(y?p=new y((function(e){e.forEach((function(e){if(g.has(e.target)){var t=g.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(p.unobserve(e.target),g.delete(e.target),t())}}))}),{rootMargin:\"200px\"}):void 0)}var k=function(e){o(n,e);var t=l(n);function n(e){var a;return r(this,n),(a=t.call(this,e)).p=void 0,a.cleanUpListeners=function(){},a.formatUrls=function(e){var t=null,n=null,r=null;return function(a,o){if(r&&a===t&&o===n)return r;var i=e(a,o);return t=a,n=o,r=i,i}}((function(e,t){return{href:(0,m.addBasePath)(b(e)),as:t?(0,m.addBasePath)(b(t)):t}})),a.linkClicked=function(e){var t=e.currentTarget,n=t.nodeName,r=t.target;if(\"A\"!==n||!(r&&\"_self\"!==r||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var o=a.formatUrls(a.props.href,a.props.as),i=o.href,c=o.as;if(function(e){var t=(0,d.parse)(e,!1,!0),n=(0,d.parse)((0,h.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(i)){var l=window.location.pathname;i=(0,d.resolve)(l,i),c=c?(0,d.resolve)(l,c):i,e.preventDefault();var s=a.props.scroll;null==s&&(s=c.indexOf(\"#\")<0),v.default[a.props.replace?\"replace\":\"push\"](i,c,{shallow:a.props.shallow}).then((function(e){e&&s&&(window.scrollTo(0,0),document.body.focus())}))}}},a.p=!1!==e.prefetch,a}return a(n,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"getPaths\",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,r=t.as,a=(0,d.resolve)(e,n);return[a,r?(0,d.resolve)(e,r):a]}},{key:\"handleRef\",value:function(e){var t=this;this.p&&y&&e&&e.tagName&&(this.cleanUpListeners(),_[this.getPaths().join(\"%\")]||(this.cleanUpListeners=function(e,t){var n=w();return n?(n.observe(e),g.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}g.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:\"prefetch\",value:function(e){if(this.p){var t=this.getPaths();v.default.prefetch(t[0],t[1],e).catch((function(e){0})),_[t.join(\"%\")]=!0}}},{key:\"render\",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,a=n.as;\"string\"===typeof t&&(t=f.default.createElement(\"a\",null,t));var o=f.Children.only(t),i={ref:function(t){e.handleRef(t),o&&\"object\"===typeof o&&o.ref&&(\"function\"===typeof o.ref?o.ref(t):\"object\"===typeof o.ref&&(o.ref.current=t))},onMouseEnter:function(t){o.props&&\"function\"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){o.props&&\"function\"===typeof o.props.onClick&&o.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&(\"a\"!==o.type||\"href\"in o.props)||(i.href=a||r),f.default.cloneElement(o,i)}}]),n}(f.Component);t.default=k},rePB:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))}}]);","extractedComments":[]}