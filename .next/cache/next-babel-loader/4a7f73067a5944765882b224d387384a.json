{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User PC\\\\workspace\\\\jomed\\\\jomed-pharmacy\\\\pages\\\\admin.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport css from './admin.module.scss';\nimport { useEffect, useState } from \"react\";\nimport Link from 'next/link';\nimport axios from 'axios';\nimport Loading from '../components/loading';\n\nconst Admin = () => {\n  const {\n    0: products,\n    1: setProducts\n  } = useState([\"o\", \"p\"]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const {\n    0: name,\n    1: setName\n  } = useState();\n  const {\n    0: price,\n    1: setPrice\n  } = useState();\n  const {\n    0: category,\n    1: setCategory\n  } = useState();\n  const {\n    0: image,\n    1: setImage\n  } = useState();\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const getProducts = async function () {\n    try {\n      const res = await fetch('http://localhost:4000/products');\n      const data = await res.json();\n      setProducts(data.data);\n    } catch {\n      console.log(\"Unable to load Products\");\n      setProducts(\"\");\n    }\n  };\n\n  const addButton = () => {\n    let elem = document.getElementsByClassName(\"admin_form\")[0];\n    elem.style.display === \"block\" ? elem.style.display = \"none\" : elem.style.display = \"block\";\n  }; //get form values\n\n\n  const handleChange = e => {\n    console.log(e.target.name);\n\n    switch (e.target.name) {\n      case \"name\":\n        setName(e.target.name);\n        break;\n\n      case \"price\":\n        setPrice(e.target.price);\n        break;\n\n      case \"category\":\n        setCategory(e.target.category);\n        break;\n\n      default:\n        setImage(e.target.image);\n    }\n\n    console.log(name);\n  }; //submit form data to backend server\n\n\n  const handleSubmit = async e => {\n    setLoading(true);\n    e.preventDefault();\n    const url = 'http://localhost:4000/prescription';\n    console.log(state);\n\n    try {\n      const response = await axios.post(url, state, {\n        timeout: 30000\n      });\n\n      if (response.status == 200) {\n        console.log(response);\n        setLoading(false);\n      }\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return __jsx(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 10\n      }\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: css.admin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: css.admin_header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }\n  }, \"Admin Page\"), __jsx(\"div\", {\n    className: css.add_product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    onClick: addButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Add product\"), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, __jsx(\"form\", {\n    className: css.show,\n    className: \"admin_form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, __jsx(\"label\", {\n    for: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, \"Name\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"product name\",\n    value: name,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    for: \"description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, \"Description\"), __jsx(\"textarea\", {\n    type: \"text\",\n    id: \"description\",\n    name: \"description\",\n    placeholder: \"Product Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    for: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, \"category\"), __jsx(\"select\", {\n    id: \"category\",\n    name: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, __jsx(\"option\", {\n    value: \"antibiotics\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Antibiotics\"), __jsx(\"option\", {\n    value: \"antidiabetics\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Antidiabetics\"), __jsx(\"option\", {\n    value: \"antimaleria\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Antimaleria\")), __jsx(\"button\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, \"Submit\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    for: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, \"Upload image\"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"image\",\n    name: \"image\",\n    placeholder: \"Select Image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  })))), __jsx(\"table\", {\n    className: css.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 2\n    }\n  }, __jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Product\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \"Category\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Price\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"In stock\")), __jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"Action\")))), __jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, products.map(item => __jsx(\"tr\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 17\n    }\n  }, __jsx(\"img\", {\n    src: item.image,\n    alt: \"\",\n    width: \"70\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }), __jsx(Link, {\n    href: \"/products/[id]\",\n    as: `/products/${item.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, __jsx(\"a\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 1\n    }\n  }, \" \", item.name)))), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, item.category)), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \"\\u20A6 \", item.price)), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 15\n    }\n  }, item.quantity), __jsx(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, \"Edit\"), __jsx(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, \"Delete\")))))));\n};\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/User PC/workspace/jomed/jomed-pharmacy/pages/admin.js"],"names":["css","useEffect","useState","Link","axios","Loading","Admin","products","setProducts","loading","setLoading","name","setName","price","setPrice","category","setCategory","image","setImage","getProducts","res","fetch","data","json","console","log","addButton","elem","document","getElementsByClassName","style","display","handleChange","e","target","handleSubmit","preventDefault","url","state","response","post","timeout","status","error","admin","admin_header","add_product","show","table","map","item","id","quantity"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,qBAAhB;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB;;AAEA,MAAMC,KAAK,GAAG,MAAI;AAEd,QAAM;AAAA,OAACC,QAAD;AAAA,OAAWC;AAAX,MAA0BN,QAAQ,CAAC,CAAC,GAAD,EAAK,GAAL,CAAD,CAAxC;AACA,QAAM;AAAA,OAACO,OAAD;AAAA,OAAUC;AAAV,MAAwBR,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM;AAAA,OAACS,IAAD;AAAA,OAAOC;AAAP,MAAkBV,QAAQ,EAAhC;AACA,QAAM;AAAA,OAACW,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,EAAlC;AACA,QAAM;AAAA,OAACa,QAAD;AAAA,OAAWC;AAAX,MAA0Bd,QAAQ,EAAxC;AACA,QAAM;AAAA,OAACe,KAAD;AAAA,OAAQC;AAAR,MAAoBhB,QAAQ,EAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAI;AAClBkB,IAAAA,WAAW;AACN,GAFQ,EAEN,EAFM,CAAT;;AAKA,QAAMA,WAAW,GAAG,kBAAiB;AACjC,QAAG;AACL,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gCAAD,CAAvB;AACI,YAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACDf,MAAAA,WAAW,CAACc,IAAI,CAACA,IAAN,CAAX;AACA,KAJD,CAIC,MAAK;AACRE,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACDjB,MAAAA,WAAW,CAAC,EAAD,CAAX;AACI;AACA,GATL;;AAWG,QAAMkB,SAAS,GAAG,MAAI;AACrB,QAAIC,IAAI,GAAGC,QAAQ,CAACC,sBAAT,CAAgC,YAAhC,EAA8C,CAA9C,CAAX;AACAF,IAAAA,IAAI,CAACG,KAAL,CAAWC,OAAX,KAAuB,OAAvB,GAA+BJ,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqB,MAApD,GAA2DJ,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqB,OAAhF;AACA,GAHD,CAzBW,CA+BX;;;AACA,QAAMC,YAAY,GAAIC,CAAD,IAAM;AACzBT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,CAAC,CAACC,MAAF,CAASvB,IAArB;;AACT,YAAOsB,CAAC,CAACC,MAAF,CAASvB,IAAhB;AACE,WAAK,MAAL;AACEC,QAAAA,OAAO,CAACqB,CAAC,CAACC,MAAF,CAASvB,IAAV,CAAP;AACE;;AACF,WAAK,OAAL;AACEG,QAAAA,QAAQ,CAACmB,CAAC,CAACC,MAAF,CAASrB,KAAV,CAAR;AACF;;AACA,WAAK,UAAL;AACEG,QAAAA,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASnB,QAAV,CAAX;AACA;;AACH;AAASG,QAAAA,QAAQ,CAACe,CAAC,CAACC,MAAF,CAASjB,KAAV,CAAR;AAVZ;;AAaOO,IAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACA,GAhBA,CAhCW,CAmDV;;;AACA,QAAMwB,YAAY,GAAE,MAAOF,CAAP,IAAa;AAC/BvB,IAAAA,UAAU,CAAC,IAAD,CAAV;AACDuB,IAAAA,CAAC,CAACG,cAAF;AAEH,UAAMC,GAAG,GAAG,oCAAZ;AACEb,IAAAA,OAAO,CAACC,GAAR,CAAYa,KAAZ;;AACA,QAAG;AACH,YAAMC,QAAQ,GAAG,MAAMnC,KAAK,CAACoC,IAAN,CAAWH,GAAX,EAAgBC,KAAhB,EAAuB;AAC5CG,QAAAA,OAAO,EAAE;AADmC,OAAvB,CAAvB;;AAGA,UAAGF,QAAQ,CAACG,MAAT,IAAiB,GAApB,EAAwB;AACvBlB,QAAAA,OAAO,CAACC,GAAR,CAAYc,QAAZ;AACA7B,QAAAA,UAAU,CAAC,KAAD,CAAV;AACA;AACF,KARC,CASA,OAAMiC,KAAN,EAAY;AACVnB,MAAAA,OAAO,CAACC,GAAR,CAAYkB,KAAZ;AACAjC,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AAEA,GApBD;;AAwBR,MAAGD,OAAH,EAAW;AACT,WAAO,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AAEG,SACI;AAAK,IAAA,SAAS,EAAET,GAAG,CAAC4C,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACR;AAAI,IAAA,SAAS,EAAE5C,GAAG,CAAC6C,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADQ,EAEI;AAAK,IAAA,SAAS,EAAE7C,GAAG,CAAC8C,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI;AAAQ,IAAA,OAAO,EAAEpB,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAM,IAAA,SAAS,EAAE1B,GAAG,CAAC+C,IAArB;AAA2B,IAAA,SAAS,EAAC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACZ;AAAO,IAAA,GAAG,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADY,EAEZ;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,MAAtB;AAA6B,IAAA,IAAI,EAAC,MAAlC;AAAyC,IAAA,WAAW,EAAC,cAArD;AAAoE,IAAA,KAAK,EAAEpC,IAA3E;AAAiF,IAAA,QAAQ,EAAEqB,YAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFY,EAIZ;AAAO,IAAA,GAAG,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJY,EAKZ;AAAU,IAAA,IAAI,EAAC,MAAf;AAAsB,IAAA,EAAE,EAAC,aAAzB;AAAuC,IAAA,IAAI,EAAC,aAA5C;AAA0D,IAAA,WAAW,EAAC,qBAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALY,EAOZ;AAAO,IAAA,GAAG,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPY,EAQZ;AAAQ,IAAA,EAAE,EAAC,UAAX;AAAsB,IAAA,IAAI,EAAC,UAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAQ,IAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAQ,IAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAFF,EAGE;AAAQ,IAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,CARY,EAaZ;AAAQ,IAAA,OAAO,EAAEG,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbY,EAcZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdY,EAeZ;AAAO,IAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAfY,EAgBZ;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,EAAE,EAAC,OAAtB;AAA8B,IAAA,IAAI,EAAC,OAAnC;AAA2C,IAAA,WAAW,EAAC,cAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBY,CADA,CAHJ,CAFJ,EA2BP;AAAO,IAAA,SAAS,EAAEnC,GAAG,CAACgD,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAJF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CAPF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAVF,EAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAbF,CADF,CADP,EAoBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEEzC,QAAQ,CAAC0C,GAAT,CAAcC,IAAD,IACX;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,GAAG,EAAED,IAAI,CAACjC,KADZ;AAEE,IAAA,GAAG,EAAC,EAFN;AAGE,IAAA,KAAK,EAAC,IAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,EAOE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,gBAAX;AAA4B,IAAA,EAAE,EAAG,aAAYiC,IAAI,CAACC,EAAG,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAKD,IAAI,CAACvC,IAAV,CADkB,CAPF,CADF,CADF,EAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAASuC,IAAI,CAACnC,QAAd,CADF,CAdF,EAiBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAWmC,IAAI,CAACrC,KAAhB,CADF,CAjBF,EAoBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGqC,IAAI,CAACE,QADR,CApBF,EAuBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFA,CAvBJ,CADF,CAFF,CApBP,CA3BO,CADJ;AAqFH,CArKD;;AA0KA,eAAe9C,KAAf","sourcesContent":["import css from './admin.module.scss';\r\nimport {useEffect, useState} from \"react\";\r\nimport Link from 'next/link';\r\nimport axios from 'axios';\r\nimport Loading from '../components/loading';\r\n\r\nconst Admin = ()=>{\r\n\r\n    const [products, setProducts] = useState([\"o\",\"p\"]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [name, setName] = useState();\r\n    const [price, setPrice] = useState();\r\n    const [category, setCategory] = useState();\r\n    const [image, setImage] = useState();\r\n\r\n    useEffect(()=>{\r\ngetProducts();\r\n    }, []);\r\n\r\n\r\n    const getProducts = async function() {\r\n        try{\r\n      const res = await fetch('http://localhost:4000/products');\r\n          const data = await res.json();\r\n         setProducts(data.data);\r\n        }catch{\r\n      console.log(\"Unable to load Products\");\r\n     setProducts(\"\")\r\n        }\r\n        };\r\n\r\n       const addButton = ()=>{\r\n        let elem = document.getElementsByClassName(\"admin_form\")[0];\r\n        elem.style.display === \"block\"?elem.style.display = \"none\":elem.style.display = \"block\";\r\n       }\r\n\r\n\r\n       //get form values\r\n       const handleChange = (e) =>{\r\n         console.log(e.target.name)\r\nswitch(e.target.name){\r\n  case \"name\":\r\n    setName(e.target.name);\r\n      break;\r\n    case \"price\":\r\n      setPrice(e.target.price);\r\n    break;\r\n    case \"category\":\r\n      setCategory(e.target.category);\r\n      break;\r\n   default: setImage(e.target.image);\r\n \r\n       }\r\n       console.log(name);\r\n      }\r\n\r\n      \r\n        //submit form data to backend server\r\n        const handleSubmit =async (e) => {\r\n          setLoading(true);\r\n         e.preventDefault();\r\n         \r\n      const url = 'http://localhost:4000/prescription';\r\n        console.log(state);  \r\n        try{\r\n        const response = await axios.post(url, state, {\r\n          timeout: 30000\r\n        });\r\n        if(response.status==200){\r\n         console.log(response);\r\n         setLoading(false);\r\n        }\r\n      }\r\n        catch(error){\r\n          console.log(error);\r\n          setLoading(false);\r\n        }\r\n        \r\n        };\r\n      \r\n\r\n\r\nif(loading){\r\n  return <Loading />\r\n}\r\n\r\n    return(\r\n        <div className={css.admin}>\r\n<h1 className={css.admin_header}>Admin Page</h1>\r\n            <div className={css.add_product}>\r\n              {/** Handle show upload form */}\r\n                <button onClick={addButton}>Add product</button>\r\n                <div>\r\n                <form className={css.show} className=\"admin_form\">\r\n    <label for=\"name\">Name</label>\r\n    <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"product name\" value={name} onChange={handleChange}/>\r\n\r\n    <label for=\"description\">Description</label>\r\n    <textarea type=\"text\" id=\"description\" name=\"description\" placeholder=\"Product Description\" />\r\n\r\n    <label for=\"category\">category</label>\r\n    <select id=\"category\" name=\"category\">\r\n      <option value=\"antibiotics\">Antibiotics</option>\r\n      <option value=\"antidiabetics\">Antidiabetics</option>\r\n      <option value=\"antimaleria\">Antimaleria</option>\r\n    </select>\r\n    <button onClick={handleSubmit}>Submit</button>\r\n    <br />\r\n    <label for=\"image\">Upload image</label>\r\n    <input type=\"file\" id=\"image\" name=\"image\" placeholder=\"Select Image\" />\r\n  </form>\r\n                </div>\r\n            </div>\r\n \r\n <table className={css.table}>\r\n        <thead>\r\n          <tr>\r\n            <th >\r\n              <div >Product</div>\r\n            </th>\r\n            <th >\r\n              <div >Category</div>\r\n            </th>\r\n            <th >\r\n              <div >Price</div>\r\n            </th>\r\n            <th >\r\n              <div >In stock</div>\r\n            </th>\r\n            <th >\r\n              <div >Action</div>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n          products.map((item) => (\r\n            <tr key={item.id}>\r\n              <td >\r\n                <div>\r\n                  <img\r\n                    src={item.image}\r\n                    alt=\"\"\r\n                    width=\"70\"\r\n                  />\r\n                  <br />\r\n                  <Link href=\"/products/[id]\" as={`/products/${item.id}`}>\r\n<a> {item.name}</a></Link>            \r\n                </div>\r\n\r\n              </td>\r\n              <td >\r\n                <strong>{item.category}</strong>\r\n              </td>\r\n              <td >\r\n                <strong>â‚¦ {item.price}</strong>\r\n              </td>\r\n              <td>\r\n                {item.quantity}\r\n                </td>\r\n                <td>\r\n                <button>Edit</button>\r\n                <button>Delete</button>\r\n                </td>\r\n            </tr>\r\n           \r\n          ))}\r\n        </tbody>\r\n      </table>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}