{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport css from './checkout.module.scss';\nimport { useEffect, useContext, useState } from 'react';\nimport appContext from \"../components/appcontext\";\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\n\nconst Checkout = () => {\n  const {\n    customer,\n    cart\n  } = useContext(appContext);\n  const {\n    0: message,\n    1: setMessage\n  } = useState(\"\");\n  const router = useRouter();\n  useEffect(() => {\n    if (!customer) {\n      alert(\"please Login\");\n      router.push(\"/account\");\n    }\n  }, []);\n\n  const handleSubmit = async event => {\n    try {\n      event.preventDefault();\n      const response = await axios.post(\"http://localhost:4000/order\", {\n        \"cart\": cart\n      }, {\n        timeout: 30000\n      });\n      console.log(response);\n      setMessage(response.data.message);\n    } catch (err) {\n      console.log(err);\n      setMessage(\"Error occured please try again\");\n    }\n  };\n\n  if (message.length > 1) {\n    __jsx(\"div\", {\n      className: css.checkout\n    }, \" \", message);\n  }\n\n  return __jsx(\"div\", {\n    className: css.checkout\n  }, __jsx(\"h2\", null, \"Web payment coming soon\"), __jsx(\"button\", {\n    onClick: handleSubmit\n  }, \"Submit order\"));\n};\n\nexport default Checkout;","map":null,"metadata":{},"sourceType":"module"}