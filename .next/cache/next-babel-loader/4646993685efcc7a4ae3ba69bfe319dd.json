{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\User PC\\\\workspace\\\\jomed\\\\jomed-pharmacy\\\\pages\\\\admin.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport css from './admin.module.scss';\nimport { useEffect, useState } from \"react\";\nimport Link from 'next/link';\nimport axios from 'axios';\nimport Loading from '../components/loading';\n\nvar Admin = function Admin() {\n  var _jsx;\n\n  var _useState = useState([\"o\", \"p\"]),\n      products = _useState[0],\n      setProducts = _useState[1];\n\n  var _useState2 = useState(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      name = _useState3[0],\n      setName = _useState3[1];\n\n  var _useState4 = useState(),\n      price = _useState4[0],\n      setPrice = _useState4[1];\n\n  var _useState5 = useState(),\n      category = _useState5[0],\n      setCategory = _useState5[1];\n\n  var _useState6 = useState(),\n      image = _useState6[0],\n      setImage = _useState6[1];\n\n  useEffect(function () {\n    getProducts();\n  }, []);\n\n  var getProducts = function getProducts() {\n    var res, data;\n    return _regeneratorRuntime.async(function getProducts$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch('http://localhost:4000/products'));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 6:\n            data = _context.sent;\n            setProducts(data.data);\n            _context.next = 14;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(\"Unable to load Products\");\n            setProducts(\"\");\n\n          case 14:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  var addButton = function addButton() {\n    var elem = document.getElementsByClassName(\"admin_form\")[0];\n    elem.style.display === \"block\" ? elem.style.display = \"none\" : elem.style.display = \"block\";\n  }; //get form values\n\n\n  var handleChange = function handleChange(e) {\n    console.log(e.target.name);\n\n    switch (e.target.name) {\n      case \"name\":\n        setName(e.target.value);\n        break;\n\n      case \"price\":\n        setPrice(e.target.value);\n        break;\n\n      case \"category\":\n        setCategory(e.target.value);\n        break;\n\n      default:\n        setImage(e.target.value);\n    }\n\n    console.log(name);\n  }; //submit form data to backend server\n\n\n  var handleSubmit = function handleSubmit(e) {\n    var url, response;\n    return _regeneratorRuntime.async(function handleSubmit$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setLoading(true);\n            e.preventDefault();\n            url = 'http://localhost:4000/prescription';\n            console.log(state);\n            _context2.prev = 4;\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(axios.post(url, state, {\n              timeout: 30000\n            }));\n\n          case 7:\n            response = _context2.sent;\n\n            if (response.status == 200) {\n              console.log(response);\n              setLoading(false);\n            }\n\n            _context2.next = 15;\n            break;\n\n          case 11:\n            _context2.prev = 11;\n            _context2.t0 = _context2[\"catch\"](4);\n            console.log(_context2.t0);\n            setLoading(false);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[4, 11]], Promise);\n  };\n\n  if (loading) {\n    return __jsx(Loading, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 10\n      }\n    });\n  }\n\n  return __jsx(\"div\", {\n    className: css.admin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, __jsx(\"h1\", {\n    className: css.admin_header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 1\n    }\n  }, \"Admin Page\"), __jsx(\"div\", {\n    className: css.add_product,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    onClick: addButton,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Add product\"), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, __jsx(\"form\", (_jsx = {\n    className: css.show\n  }, _defineProperty(_jsx, \"className\", \"admin_form\"), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 17\n  }), _jsx), __jsx(\"label\", {\n    \"for\": \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, \"Name\"), __jsx(\"input\", {\n    type: \"text\",\n    id: \"name\",\n    name: \"name\",\n    placeholder: \"product name\",\n    value: name,\n    onChange: handleChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    \"for\": \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, \"Description\"), __jsx(\"textarea\", {\n    type: \"text\",\n    id: \"description\",\n    name: \"description\",\n    placeholder: \"Product Description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    \"for\": \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, \"category\"), __jsx(\"select\", {\n    id: \"category\",\n    name: \"category\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, __jsx(\"option\", {\n    value: \"antibiotics\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Antibiotics\"), __jsx(\"option\", {\n    value: \"antidiabetics\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Antidiabetics\"), __jsx(\"option\", {\n    value: \"antimaleria\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, \"Antimaleria\")), __jsx(\"button\", {\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, \"Submit\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }), __jsx(\"label\", {\n    \"for\": \"image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }, \"Upload image\"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"image\",\n    name: \"image\",\n    placeholder: \"Select Image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  })))), __jsx(\"table\", {\n    className: css.table,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 2\n    }\n  }, __jsx(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Product\")), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, \"Category\")), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"Price\")), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"In stock\")), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, \"Action\")))), __jsx(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, products.map(function (item) {\n    return __jsx(\"tr\", {\n      key: item.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, __jsx(\"img\", {\n      src: item.image,\n      alt: \"\",\n      width: \"70\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }), __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }), __jsx(Link, {\n      href: \"/products/[id]\",\n      as: \"/products/\".concat(item.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, __jsx(\"a\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 1\n      }\n    }, \" \", item.name)))), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }, item.category)), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 15\n      }\n    }, __jsx(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }\n    }, \"\\u20A6 \", item.price)), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, item.quantity), __jsx(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }\n    }, __jsx(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, \"Edit\"), __jsx(\"button\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }, \"Delete\")));\n  }))));\n};\n\nexport default Admin;","map":{"version":3,"sources":["C:/Users/User PC/workspace/jomed/jomed-pharmacy/pages/admin.js"],"names":["css","useEffect","useState","Link","axios","Loading","Admin","products","setProducts","loading","setLoading","name","setName","price","setPrice","category","setCategory","image","setImage","getProducts","fetch","res","json","data","console","log","addButton","elem","document","getElementsByClassName","style","display","handleChange","e","target","value","handleSubmit","preventDefault","url","state","post","timeout","response","status","admin","admin_header","add_product","show","table","map","item","id","quantity"],"mappings":"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","sourcesContent":["import css from './admin.module.scss';\r\nimport {useEffect, useState} from \"react\";\r\nimport Link from 'next/link';\r\nimport axios from 'axios';\r\nimport Loading from '../components/loading';\r\n\r\nconst Admin = ()=>{\r\n\r\n    const [products, setProducts] = useState([\"o\",\"p\"]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [name, setName] = useState();\r\n    const [price, setPrice] = useState();\r\n    const [category, setCategory] = useState();\r\n    const [image, setImage] = useState();\r\n\r\n    useEffect(()=>{\r\ngetProducts();\r\n    }, []);\r\n\r\n\r\n    const getProducts = async function() {\r\n        try{\r\n      const res = await fetch('http://localhost:4000/products');\r\n          const data = await res.json();\r\n         setProducts(data.data);\r\n        }catch{\r\n      console.log(\"Unable to load Products\");\r\n     setProducts(\"\")\r\n        }\r\n        };\r\n\r\n       const addButton = ()=>{\r\n        let elem = document.getElementsByClassName(\"admin_form\")[0];\r\n        elem.style.display === \"block\"?elem.style.display = \"none\":elem.style.display = \"block\";\r\n       }\r\n\r\n\r\n       //get form values\r\n       const handleChange = (e) =>{\r\n         console.log(e.target.name)\r\nswitch(e.target.name){\r\n  case \"name\":\r\n    setName(e.target.value);\r\n      break;\r\n    case \"price\":\r\n      setPrice(e.target.value);\r\n    break;\r\n    case \"category\":\r\n      setCategory(e.target.value);\r\n      break;\r\n   default: setImage(e.target.value);\r\n \r\n       }\r\n       console.log(name);\r\n      }\r\n\r\n      \r\n        //submit form data to backend server\r\n        const handleSubmit =async (e) => {\r\n          setLoading(true);\r\n         e.preventDefault();\r\n         \r\n      const url = 'http://localhost:4000/prescription';\r\n        console.log(state);  \r\n        try{\r\n        const response = await axios.post(url, state, {\r\n          timeout: 30000\r\n        });\r\n        if(response.status==200){\r\n         console.log(response);\r\n         setLoading(false);\r\n        }\r\n      }\r\n        catch(error){\r\n          console.log(error);\r\n          setLoading(false);\r\n        }\r\n        \r\n        };\r\n      \r\n\r\n\r\nif(loading){\r\n  return <Loading />\r\n}\r\n\r\n    return(\r\n        <div className={css.admin}>\r\n<h1 className={css.admin_header}>Admin Page</h1>\r\n            <div className={css.add_product}>\r\n              {/** Handle show upload form */}\r\n                <button onClick={addButton}>Add product</button>\r\n                <div>\r\n                <form className={css.show} className=\"admin_form\">\r\n    <label for=\"name\">Name</label>\r\n    <input type=\"text\" id=\"name\" name=\"name\" placeholder=\"product name\" value={name} onChange={handleChange}/>\r\n\r\n    <label for=\"description\">Description</label>\r\n    <textarea type=\"text\" id=\"description\" name=\"description\" placeholder=\"Product Description\" />\r\n\r\n    <label for=\"category\">category</label>\r\n    <select id=\"category\" name=\"category\">\r\n      <option value=\"antibiotics\">Antibiotics</option>\r\n      <option value=\"antidiabetics\">Antidiabetics</option>\r\n      <option value=\"antimaleria\">Antimaleria</option>\r\n    </select>\r\n    <button onClick={handleSubmit}>Submit</button>\r\n    <br />\r\n    <label for=\"image\">Upload image</label>\r\n    <input type=\"file\" id=\"image\" name=\"image\" placeholder=\"Select Image\" />\r\n  </form>\r\n                </div>\r\n            </div>\r\n \r\n <table className={css.table}>\r\n        <thead>\r\n          <tr>\r\n            <th >\r\n              <div >Product</div>\r\n            </th>\r\n            <th >\r\n              <div >Category</div>\r\n            </th>\r\n            <th >\r\n              <div >Price</div>\r\n            </th>\r\n            <th >\r\n              <div >In stock</div>\r\n            </th>\r\n            <th >\r\n              <div >Action</div>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n          products.map((item) => (\r\n            <tr key={item.id}>\r\n              <td >\r\n                <div>\r\n                  <img\r\n                    src={item.image}\r\n                    alt=\"\"\r\n                    width=\"70\"\r\n                  />\r\n                  <br />\r\n                  <Link href=\"/products/[id]\" as={`/products/${item.id}`}>\r\n<a> {item.name}</a></Link>            \r\n                </div>\r\n\r\n              </td>\r\n              <td >\r\n                <strong>{item.category}</strong>\r\n              </td>\r\n              <td >\r\n                <strong>â‚¦ {item.price}</strong>\r\n              </td>\r\n              <td>\r\n                {item.quantity}\r\n                </td>\r\n                <td>\r\n                <button>Edit</button>\r\n                <button>Delete</button>\r\n                </td>\r\n            </tr>\r\n           \r\n          ))}\r\n        </tbody>\r\n      </table>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}