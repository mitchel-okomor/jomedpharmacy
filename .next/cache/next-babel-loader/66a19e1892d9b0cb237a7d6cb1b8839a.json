{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport css from './search.module.scss';\nimport { useState } from 'react';\nimport axios from 'axios';\n\nvar Search = function Search() {\n  var _useState = useState(),\n      query = _useState[0],\n      setQuery = _useState[1];\n\n  var _useState2 = useState(''),\n      searchResult = _useState2[0],\n      setSearchResult = _useState2[1];\n\n  var handleChange = function handleChange(e) {\n    setQuery(e.target.value);\n    console.log(query);\n  }; //submit form data to backend server\n\n\n  var handleSubmit = function handleSubmit(e) {\n    var url, response;\n    return _regeneratorRuntime.async(function handleSubmit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault(); //dispatch({field:\"loading\", value:true});\n\n            url = 'http://localhost:4000/search?value=' + query;\n            console.log(query);\n            _context.prev = 3;\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(axios.get(url, {\n              timeout: 30000\n            }));\n\n          case 6:\n            response = _context.sent;\n\n            if (response.status == 200) {\n              setSearchResult(response.data.data);\n              console.log(searchResult);\n            }\n\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](3);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[3, 10]], Promise);\n  };\n\n  return __jsx(\"div\", {\n    className: css.search\n  }, __jsx(\"form\", null, __jsx(\"input\", {\n    type: \"text\",\n    id: \"search\",\n    name: \"search\",\n    value: query,\n    placeholder: \"Search Products & Services\",\n    onChange: handleChange\n  }), __jsx(\"button\", {\n    onClick: handleSubmit\n  }, __jsx(\"i\", {\n    className: \"fa fa-search\"\n  }))));\n};\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}